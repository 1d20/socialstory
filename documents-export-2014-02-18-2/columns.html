<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Social Story Reader</title>
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
  <!-- <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"> -->
  <link rel="stylesheet" href="css/columns.css">
</head>

<body>
  <div id="reader">
    <div id="container" class="ssr-container">
      <div id="content" class="ssr-content">
        <h1>Chapter 1</h1>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis asdasd nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla Lorem ipsum Ullamco proident Duis nulla Lorem ipsum Ullamco proident Duis nullaLorem ipsum Ullamco d exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum eiusmod dolor id <b><u><i>ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est</i></u></b> Ut eu elit minim aute <b>reprehenderit</b> in tempor in nisi.</p>
        <ul>
          <li>asdasd</li>
          <li>Lore</li>
          <li>Lore</li>
          <li>Lore</li>
        </ul>
        <pre># Установка недостающих компонентов
sudo apt-get update
sudo apt-get install -y build-essential
sudo apt-get install -y python-software-properties

# Добавление в репозиторий php 5.5
sudo add-apt-repository ppa:ondrej/php5 
sudo apt-get update

# Установка сервера
sudo apt-get install -y php5
sudo apt-get install -y apache2
sudo apt-get install -y libapache2-mod-php5
sudo apt-get install -y mysql-server
sudo apt-get install -y php5-mysql
sudo apt-get install -y php5-curl
sudo apt-get install -y php5-gd
sudo apt-get install -y php5-mcrypt
sudo apt-get install -y git-core
sudo apt-get install -y phpmyadmin

# Хак для phpmyadmin
echo "Include /etc/phpmyadmin/apache.conf" | sudo tee -a /etc/apache2/apache2.conf 

# Включение mod_rewrite
sudo a2enmod rewrite 

# Перезапустим apache для принятия изменений
sudo /etc/init.d/apache2 restart

# Глобально установим Composer
curl -sS https://getcomposer.org/installer | php 
sudo mv composer.phar /usr/local/bin/composer</pre>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
        <p>Lorem ipsum Ullamco proident Duis nulla elit est aliqua deserunt reprehenderit. Lorem ipsum Eiusmod exercitation ad dolore consequat tempor eiusmod. Lorem ipsum Ut Duis nisi culpa sed dolor labore consectetur quis. Lorem ipsum Voluptate aliqua consequat laboris laborum culpa deserunt eiusmod dolor id ullamco. Lorem ipsum Sint consequat in eiusmod in ut non. Lorem ipsum Ex cillum cupidatat et cillum est consectetur Ut consequat magna. Lorem ipsum Id incididunt est Ut eu elit minim aute reprehenderit in tempor in nisi.</p>
      </div>
    </div>
  </div>

  <!--<script src="js/vendors/jquery.min.js"></script>-->
  <script src='js/core/ssr.js'></script>
  <script src='js/core/ssr.contents.js'></script>
  <script>
    var readyStateCheckInterval = setInterval(function() {
        if (document.readyState === "complete") {
            // SSR.initialize();
            init();
            clearInterval(readyStateCheckInterval);
        }
    }, 10);

    function init() {
      var container = document.getElementById('container');
      var content = document.getElementById('content');
      var height = content.offsetHeight;
      var columns = Math.round(height / 640);
      var gap = 50;
      var width = columns * content.offsetWidth + gap * (columns - 1);
      console.log(columns);
      console.log(width);

      content.style.width = width + 'px';
      content.style.height = '640px';

      content.style.columnCount = '' + columns;
      content.style.MozColumnCount = '' + columns;
      content.style.WebkitColumnCount = '' + columns;
      
      content.style.columnGap = gap + 'px';
      content.style.MozColumnGap = gap + 'px';
      content.style.WebkitColumnGap = gap + 'px';

      console.dir(content.style);

      var backNode = content.cloneNode(true);
      container.appendChild(backNode);
      backNode.style.marginLeft = -1060 + 'px';
      backNode.style.zIndex = 50;
    }
  </script>

</body>
</html>